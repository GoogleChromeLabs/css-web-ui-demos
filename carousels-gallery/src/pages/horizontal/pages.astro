---
import Layout from "../../layouts/Layout.astro";
---

<Layout title="Carousel Gallery">
  <section>
    <header>
      <h2>Automatic Pages</h2>
      <div class="tags">
        <span>Scroll Buttons</span>
        <span>Scroll Markers</span>
        <span>Scroll-State Queries</span>
        <span>Dynamic Columns</span>
        <span>Anchor</span>
      </div>
      <p>
        Pages are automatically generated based on the number of items that can
        fit into a <code>::column</code>. Try resizing it to see the column
        layout adjust the items per page.
      </p>
    </header>

    <ul
      class="carousel scroll-markers scroll-buttons"
      role="region"
      aria-roledescription="carousel"
      aria-label="Paged carousel demo"
      aria-live="polite"
    >
      <li>
        <p aria-label="Slide 1 of 16" aria-roledescription="slide">1</p>
      </li>
      <li>
        <p aria-label="Slide 2 of 16" aria-roledescription="slide">2</p>
      </li>
      <li>
        <p aria-label="Slide 3 of 16" aria-roledescription="slide">3</p>
      </li>
      <li>
        <p aria-label="Slide 4 of 16" aria-roledescription="slide">4</p>
      </li>
      <li>
        <p aria-label="Slide 5 of 16" aria-roledescription="slide">5</p>
      </li>
      <li>
        <p aria-label="Slide 6 of 16" aria-roledescription="slide">6</p>
      </li>
      <li>
        <p aria-label="Slide 7 of 16" aria-roledescription="slide">7</p>
      </li>
      <li>
        <p aria-label="Slide 8 of 16" aria-roledescription="slide">8</p>
      </li>
      <li>
        <p aria-label="Slide 9 of 16" aria-roledescription="slide">9</p>
      </li>
      <li>
        <p aria-label="Slide 10 of 16" aria-roledescription="slide">10</p>
      </li>
      <li>
        <p aria-label="Slide 11 of 16" aria-roledescription="slide">11</p>
      </li>
      <li>
        <p aria-label="Slide 12 of 16" aria-roledescription="slide">12</p>
      </li>
      <li>
        <p aria-label="Slide 13 of 16" aria-roledescription="slide">13</p>
      </li>
      <li>
        <p aria-label="Slide 14 of 16" aria-roledescription="slide">14</p>
      </li>
      <li>
        <p aria-label="Slide 15 of 16" aria-roledescription="slide">15</p>
      </li>
      <li>
        <p aria-label="Slide 16 of 16" aria-roledescription="slide">16</p>
      </li>
    </ul>
  </section>

  <style>
    .carousel {
      columns: 1;
      text-align: center;
      resize: both;
      margin-inline: auto;

      /* Reset list styles */
      list-style-type: none;
      counter-reset: item;

      /* Styles and layout */
      container-type: size scroll-state;
      inline-size: 1024px;
      max-inline-size: 100cqi;
      block-size: var(--size-content-1);

      &::column {
        scroll-snap-align: center;
      }

      &::column::scroll-marker {
        /* make the marker meaningful for screen readers */
        content: "" / "Carousel item marker";
        aspect-ratio: 1;
        border-radius: var(--radius-round);
        animation: scale-in-and-out linear both;
        animation-timeline: view(x);
      }

      &::column::scroll-marker {
        border: 1px solid var(--surface-4);
        scroll-snap-align: center;
      }

      &::column::scroll-marker:target-current {
        background: var(--link);
        border-color: var(--link);
      }

      &::column::scroll-marker:focus-visible {
        outline-offset: 2px;
        outline: 2px solid var(--link);
      }

      & > li {
        scroll-snap-align: none;
        background: light-dark(white, var(--surface-2));
        padding: 0;

        display: inline-flex;
        place-items: center;
        place-content: center;

        block-size: 100cqb;
        aspect-ratio: var(--ratio-portrait);

        border: 1px solid var(--surface-3);
        box-shadow: var(--shadow-2);
        border-radius: var(--radius-2);

        &::scroll-marker {
          content: unset;
        }

        > p {
          font-family: var(--font-antique);
          font-size: var(--font-size-5);
        }

        @container scroll-state(snapped: inline) {
          > p {
            color: var(--link);
            font-size: var(--font-size-7);
          }
        }

        &:focus {
          outline: 2px solid var(--link);
          outline-offset: -2px;
        }
      }
    }
  </style>
</Layout>
