---
import Layout from "../../layouts/Layout.astro";
---

<Layout title="Carousel Gallery">
  <section>
    <header>
      <h2>Vertical Slides</h2>
      <div class="tags">
        <span>Scroll Markers</span>
        <span>Scroll-State Queries</span>
        <span>Anchor</span>
      </div>
      <p>
        A basic vertical set of slides with scroll-state() for knowing which
        slide is active and anchoring for easily positioning the markers.
      </p>
    </header>

    <div role="region" aria-label="Slides carousel demo">
      <div
        class="carousel carousel--vertical carousel--scroll-markers carousel--unsnapped-inert"
        aria-live="polite"
      >
        <div class="carousel__slide" data-label="Slide 1">
          <p role="tabpanel" aria-label="Slide 1">My Slides</p>
        </div>
        <div class="carousel__slide" data-label="Slide 2">
          <p role="tabpanel" aria-label="Slide 2">Slide 1</p>
        </div>
        <div class="carousel__slide" data-label="Slide 3">
          <p role="tabpanel" aria-label="Slide 3">Slide 2</p>
        </div>
        <div class="carousel__slide" data-label="Slide 4">
          <p role="tabpanel" aria-label="Slide 4">Slide 3</p>
        </div>
        <div class="carousel__slide" data-label="Slide 5">
          <p role="tabpanel" aria-label="Slide 5">The End</p>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  .carousel {
    aspect-ratio: var(--ratio-landscape);
    inline-size: 100%;

    display: grid;
    grid-auto-flow: row;
    grid-auto-rows: 100%;
    gap: var(--size-4);

    &::scroll-marker-group {
      position-area: span-left center;
      overflow: unset;
    }

    .carousel__slide {
      max-inline-size: 100%;
      background: light-dark(white, var(--surface-2));
      padding: 0;
      container-type: scroll-state;

      display: inline-flex;
      place-items: center;
      place-content: center;

      border: 1px solid var(--surface-3);
      box-shadow: var(--shadow-2);
      border-radius: var(--radius-2);

      > p {
        font-family: var(--font-antique);
        font-size: var(--font-size-5);
        transition: font-size 1s var(--ease-spring-4) 0.5s;
      }

      @container scroll-state(snapped: block) {
        > p {
          color: var(--link);
          font-size: var(--font-size-7);
        }
      }

      /* todo: maybe remove? */
      &:focus {
        outline: 2px solid var(--link);
        outline-offset: -2px;
      }
    }
  }
</style>
