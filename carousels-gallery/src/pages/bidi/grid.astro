---
import Layout from "../../layouts/Layout.astro";
---

<Layout title="Carousel Gallery">
  <section>
    <header>
      <h2>Bi-Directional Grid</h2>
      <div class="tags">
        <span>Scroll Buttons</span>
        <span>Scroll Markers</span>
        <span>Scroll Initial Target</span>
        <span>Anchor</span>
      </div>
      <p>
        Scroll buttons on all sides plus markers for each snap target. This demo
        puts everything all together for, what no longer feels like a carousel,
        and is instead a manifestation of scroll affordances on a grid.
      </p>
    </header>

    <ul class="carousel carousel--bidi carousel--scroll-markers carousel--scroll-buttons">
      <li><p>1</p></li>
      <li><p>2</p></li>
      <li><p>3</p></li>
      <li><p>4</p></li>
      <li><p>5</p></li>
      <li><p>6</p></li>
      <li><p>7</p></li>
      <li><p>8</p></li>
      <li><p>9</p></li>
      <li><p>10</p></li>
      <li><p>11</p></li>
      <li><p>12</p></li>
      <li style="scroll-initial-target: nearest"><p>13</p></li>
      <li><p>14</p></li>
      <li><p>15</p></li>
      <li><p>16</p></li>
      <li><p>17</p></li>
      <li><p>18</p></li>
      <li><p>19</p></li>
      <li><p>20</p></li>
      <li><p>21</p></li>
      <li><p>22</p></li>
      <li><p>23</p></li>
      <li><p>24</p></li>
      <li><p>25</p></li>
    </ul>
  </section>
</Layout>

<style>
  .carousel {
    /* Reset list styles */
    list-style-type: none;
    counter-reset: item;

    /* Styles and layout */
    inline-size: 60vmin;
    aspect-ratio: 1;

    display: grid;
    grid: repeat(5, 1fr) / repeat(5, 1fr);
    gap: var(--size-4);
    padding: 5vmin;
    scroll-padding: 5vmin;

    place-self: center;
    border-radius: 20px;

    &::scroll-marker-group {
      display: grid;
      grid-auto-flow: column;
      top: auto;
      bottom: anchor(bottom);
      max-inline-size: 33cqi;

      border: 1px solid light-dark(var(--surface-3), #0009);
      background: light-dark(white, #0003);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      mask: none;
    }

    @media (prefers-color-scheme: light) {
      &::scroll-marker-group {
        box-shadow: var(--shadow-5);
      }
    }

    & > li {
      scroll-snap-align: center;

      background: light-dark(white, var(--surface-2));
      padding: 0;

      display: inline-flex;
      place-items: center;
      place-content: center;

      inline-size: 40cqi;
      aspect-ratio: 1;

      border: 1px solid var(--surface-3);
      box-shadow: var(--shadow-2);
      border-radius: var(--radius-2);

      > p {
        font-family: var(--font-antique);
        font-size: var(--font-size-5);
        transition: font-size 1s var(--ease-spring-4);
      }

      @container scroll-state(snapped: x) or scroll-state(snapped: y) {
        > p {
          color: var(--link);
          font-size: var(--font-size-7);
        }
      }
    }
  }
</style>
